%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Bibliography Setup
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[backend=biber, style=apa]{biblatex} % loads APA style with biber
\addbibresource{ref.bib} % add your bibliography file

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Hyperlink & URL Configuration
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=black,
  urlcolor=black,
  citecolor=black,
  pdfauthor={Daniel Fischer},
  pdftitle={Master Thesis: Digital Twins},
  pdfsubject={Master Thesis},
  pdfkeywords={Digital Twin, Validation, Simulation}
}
\usepackage{cleveref} % For clever references
\usepackage{url} % URL formatting

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Floating Objects and Graphics
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{placeins} % Force float barriers
\usepackage{graphicx} % For graphic inclusion
\graphicspath{{.}}    % Set graphics path
\usepackage{float}
\usepackage{rotating}
\usepackage{tikz}
\usepackage{svg} % For including SVG graphics
\usetikzlibrary{positioning, arrows.meta}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Tables, Algorithms, and Miscellaneous Packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{booktabs}      % For professional tables
\usepackage{tabularx}      % For flexible table widths
\usepackage{algorithm}     % For algorithms
\usepackage{algpseudocode} % For pseudocode
\usepackage{comment}       % To comment out blocks of text
\usepackage[toc,acronym,nonumberlist]{glossaries}
\usepackage{geometry}
\usepackage{pgf-pie}
\usepackage{xcolor}
\usepackage{verbatim}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Mathematics and Fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsfonts} % Blackboard math symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{nicefrac} % Compact slash fractions
\usepackage{anyfontsize} % Allows any font size
\usepackage{fontspec}
\setmainfont{Times New Roman}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Microtypography & Page Layout 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{microtype}    % Micro-optimizations for typography
\usepackage{fancyhdr}     % Header and footer settings
\usepackage{parskip}      % No paragraph indenting
\raggedbottom            % Disable vertical stretch to fill pages

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Table of Contents Customization (TOC)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tocloft}
\renewcommand{\contentsname}{\fontspec{Times New Roman}Contents}
\setlength{\cftbeforechapskip}{1.5em}
\renewcommand{\cftchapfont}{\fontspec{Times New Roman}\bfseries\Large}
\renewcommand{\cftchappagefont}{\fontspec{Times New Roman}\bfseries\Large}
\setlength{\cftchapnumwidth}{3em}
\renewcommand{\cftchapleader}{\hfill\mbox{\rule[0.5ex]{1cm}{0.4pt}}}

\renewcommand{\cfttoctitlefont}{\normalfont\Huge\bfseries\fontspec{Times New Roman}}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsecfont}{\fontspec{Times New Roman}\normalfont\large}
\renewcommand{\cftsecpagefont}{\fontspec{Times New Roman}\normalfont\large}
\setlength{\cftbeforesecskip}{0.7em}
\setlength{\cftsecindent}{2em}

\renewcommand{\cftsubsecleader}{\hfill}
\setlength{\cftsubsecindent}{3em}
\renewcommand{\cftsubsecfont}{\fontspec{Times New Roman}\normalfont\small}
\renewcommand{\cftsubsecpagefont}{\fontspec{Times New Roman}\normalfont\small}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Captions Configuration
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{caption}
\captionsetup{font=small, labelfont=bf}